import{r as o,u as m,a as u,j as s,b as h,i as j,d as x,c as g}from"./index-DEnKwwum.js";const f="_pizza_1c693_1",N="_pizza__image_1c693_13",b="_pizza_info_1c693_18",y="_pizza__name_1c693_26",C="_pizza__ingredients_1c693_31",S="_pizza__actions_1c693_37",w="_pizza__price_1c693_44",k="_soldout_1c693_47",v="_pizza__button_1c693_51",E="_counter_1c693_90",t={pizza:f,pizza__image:N,pizza_info:b,pizza__name:y,pizza__ingredients:C,pizza__actions:S,pizza__price:w,soldout:k,pizza__button:v,counter:E},P=({pizza:e})=>{const[_,r]=o.useState(!1),n=m(),d=u(a=>a.pizza.items).filter(a=>a.id===e.id),l=a=>{n(h(a)),r(!0)},c=a=>{n(j(a))},i=a=>{n(x(a))},z=a=>{n(g(a)),r(!1)};return s.jsxs("li",{className:t.pizza,children:[s.jsx("img",{src:e.imageUrl,className:t.pizza__image,style:e.soldOut?{filter:"grayscale(100%)"}:{},alt:e.name}),s.jsxs("div",{className:t.pizza_info,children:[s.jsx("p",{className:t.pizza__name,children:e.name}),s.jsx("p",{className:t.pizza__ingredients,children:e.ingredients.join(", ")}),s.jsxs("div",{className:t.pizza__actions,children:[s.jsxs("p",{className:t.pizza__price,style:e.soldOut?{display:"none"}:{},children:["â‚¬",e.unitPrice,".00"]}),e.soldOut?s.jsx("p",{className:t.pizza__price,children:"Sold out"}):s.jsx(s.Fragment,{children:_?s.jsxs("div",{className:t.counter,children:[s.jsx("button",{className:t.pizza__button,onClick:()=>i(e.id),children:"-"}),s.jsx("p",{children:d[0].qty}),s.jsx("button",{className:t.pizza__button,onClick:()=>c(e.id),children:"+"}),s.jsx("button",{className:t.pizza__button,onClick:()=>z(e.id),children:"Delete"})]}):s.jsx("button",{className:t.pizza__button,onClick:()=>l(e),children:"Add to cart"})})]})]})]})},D="_menu_1ams1_1",F={menu:D},O=e=>{const[_,r]=o.useState([]),[n,p]=o.useState(""),[d,l]=o.useState(!1);return o.useEffect(()=>{(async()=>{try{l(!0);const i=await fetch("https://react-fast-pizza-api.onrender.com/api/menu");if(!i.ok)throw new Error("Failed to retrieve data");const z=await i.json();r(z.data)}catch(i){p(i.message)}finally{l(!1)}})()},[]),s.jsxs(s.Fragment,{children:[n&&s.jsx("p",{children:n}),d&&s.jsx("h2",{children:"Loading..."}),s.jsx("ul",{className:F.menu,children:!!_.length&&_.map(c=>s.jsx(P,{pizza:c},c.id))})]})};export{O as default};
